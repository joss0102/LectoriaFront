<div class="recent-books-container">
  <h3 class="section-title">Libros recientes</h3>
  
  <div *ngIf="loading" class="loading-spinner">
    <span>Cargando libros recientes...</span>
  </div>
  
  <div *ngIf="error" class="error-message">
    <p>Ha ocurrido un error al cargar los libros. Por favor, inténtalo de nuevo más tarde.</p>
  </div>
  
  <div *ngIf="noRecentBooks && !loading && !error" class="no-books-message">
    <p>No has añadido ningún libro en los últimos 3 meses.</p>
  </div>
  
  <div *ngIf="!loading && !error && recentBooks.length > 0" class="books-grid">
    <div *ngFor="let book of recentBooks" class="book-card">
      <div class="book-cover">
        <img [src]="getCoverImage(book)" [alt]="book.book_title" class="cover-image"
              onerror="this.src='/assets/images/default-book-cover.png'">
      </div>
      <div class="book-info">
        <h4 class="book-title" [title]="book.book_title">{{ book.book_title }}</h4>
        <p class="book-author" [title]="book.authors">{{ book.authorName || book.authors || 'Autor desconocido' }}</p>
        <p class="book-date">Añadido: {{ book.date_added | date:'dd/MM/yyyy' }}</p>
      </div>
    </div>
  </div>
</div>