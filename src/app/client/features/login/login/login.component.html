<div class="container mt-5 shadow-lg" [class.active]="isLoginActive">
  <!-- Sección de Registro -->
  <div class="signup-section">
    <h3 class="switch-tab text-btn text-center" (click)="toggleForm(false)">
      Registrarse
    </h3>
    <div class="social-buttons">
      <button (click)="loginWithGoogle()" class="text-white">
        <i class="bi bi-google text-white"></i> Google
      </button>
      <button (click)="loginWithApple()" class="text-white">
        <i class="bi bi-apple text-white"></i> Apple
      </button>
    </div>
    <div class="separator">
      <div class="line"></div>
      <p>O</p>
      <div class="line"></div>
    </div>
    <form [formGroup]="signupForm" (ngSubmit)="onSignup()">
      <input
        type="text"
        formControlName="fullName"
        placeholder="Nombre completo"
      />
      <div *ngIf="signupForm.get('fullName')?.touched && signupForm.get('fullName')?.invalid" class="error-message">
        El nombre completo es obligatorio
      </div>
      
      <input type="text" formControlName="nickname" placeholder="Nickname" />
      <div *ngIf="signupForm.get('nickname')?.touched && signupForm.get('nickname')?.invalid" class="error-message">
        El Nickname es obligatorio
      </div>
      
      <input
        type="password"
        formControlName="password"
        placeholder="Contraseña"
      />
      <div *ngIf="signupForm.get('password')?.touched && signupForm.get('password')?.invalid" class="error-message">
        Se requiere una contraseña de al menos 6 caracteres
      </div>
      
      <button type="submit" class="btn" [disabled]="signupForm.invalid || isLoading">
        <span *ngIf="isLoading">Cargando...</span>
        <span *ngIf="!isLoading">Registrarse</span>
      </button>
    </form>
  </div>
  
  <!-- Sección de Login -->
  <div class="login-section">
    <h3 class="switch-tab text-btn text-center" (click)="toggleForm(true)">
      Iniciar Sesión
    </h3>
    <div class="social-buttons">
      <button (click)="loginWithGoogle()" class="text-white">
        <i class="bi bi-google text-white"></i> Google
      </button>
      <button (click)="loginWithApple()" class="text-white">
        <i class="bi bi-apple text-white"></i> Apple
      </button>
    </div>
    <div class="separator">
      <div class="line"></div>
      <p>O</p>
      <div class="line"></div>
    </div>
    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
      <input type="text" formControlName="nickname" placeholder="Nickname" />
      <div *ngIf="loginForm.get('nickname')?.touched && loginForm.get('nickname')?.invalid" class="error-message">
        El NickName es obligatorio
      </div>
      
      <input
        type="password"
        formControlName="password"
        placeholder="Contraseña"
      />
      <div *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.invalid" class="error-message">
        La contraseña es obligatorio
      </div>
      
      <div *ngIf="loginError" class="alert alert-danger">
        {{ loginError }}
      </div>
      
      <a href="/login">¿Olvidaste tu contraseña?</a>
      <button type="submit" class="btn" [disabled]="loginForm.invalid || isLoading">
        <span *ngIf="isLoading">Cargando...</span>
        <span *ngIf="!isLoading">Iniciar Sesión</span>
      </button>
    </form>
  </div>
</div>